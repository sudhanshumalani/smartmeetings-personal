@import "tailwindcss";

@custom-variant dark (&:where(.dark, .dark *));

/* === Brand Design Tokens === */
@theme {
  --color-brand-50: #eef2ff;
  --color-brand-100: #e0e7ff;
  --color-brand-200: #c7d2fe;
  --color-brand-300: #a5b4fc;
  --color-brand-400: #818cf8;
  --color-brand-500: #6366f1;
  --color-brand-600: #4f46e5;
  --color-brand-700: #4338ca;
  --color-brand-800: #3730a3;
  --color-brand-900: #312e81;
}

/* === Keyframe Animations === */
@keyframes slideInRight {
  from { opacity: 0; transform: translateX(100%); }
  to { opacity: 1; transform: translateX(0); }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes scaleIn {
  from { opacity: 0; transform: scale(0.95); }
  to { opacity: 1; transform: scale(1); }
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

@keyframes pulseRing {
  0% { transform: scale(1); opacity: 0.5; }
  100% { transform: scale(1.6); opacity: 0; }
}

@keyframes cardEntrance {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes shrinkBar {
  from { width: 100%; }
  to { width: 0%; }
}

@keyframes slideDown {
  from { opacity: 0; max-height: 0; }
  to { opacity: 1; max-height: 500px; }
}

/* === Utility Classes === */
.animate-slide-in-right {
  animation: slideInRight 0.3s ease-out forwards;
}

.animate-fade-in {
  animation: fadeIn 0.3s ease-out forwards;
}

.animate-scale-in {
  animation: scaleIn 0.2s ease-out forwards;
}

.animate-card-entrance {
  animation: cardEntrance 0.3s ease-out forwards;
}

.animate-slide-down {
  animation: slideDown 0.2s ease-out forwards;
}

.skeleton {
  background: linear-gradient(90deg, #e5e7eb 25%, #f3f4f6 50%, #e5e7eb 75%);
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
  border-radius: 0.5rem;
}

:where(.dark, .dark *) .skeleton {
  background: linear-gradient(90deg, #374151 25%, #4b5563 50%, #374151 75%);
  background-size: 200% 100%;
}

.gradient-text {
  background: linear-gradient(135deg, #6366f1, #8b5cf6, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* === iOS Safe Area Insets === */
body {
  padding-top: env(safe-area-inset-top);
  padding-bottom: env(safe-area-inset-bottom);
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
}

/* === Mobile Touch Targets === */
@media (max-width: 768px) {
  /* Ensure minimum 44px touch targets on mobile (scoped to main content to avoid header overflow) */
  main button,
  main a,
  main select,
  main [role="button"] {
    min-height: 44px;
    min-width: 44px;
  }

  /* Larger audio recording controls on mobile */
  .audio-record-btn {
    min-height: 56px;
    min-width: 56px;
    font-size: 1rem;
  }
}

/* Print styles for PDF export via window.print() */
@media print {
  /* Hide navigation, toasts, buttons, and interactive elements */
  nav,
  .no-print,
  button,
  select,
  input,
  [role="navigation"],
  .toast-container {
    display: none !important;
  }

  /* Reset background and colors for print */
  body {
    background: white !important;
    color: black !important;
    font-size: 12pt;
    line-height: 1.5;
  }

  /* Full width, no padding from layout */
  main {
    padding: 0 !important;
    margin: 0 !important;
    max-width: 100% !important;
  }

  /* Print view container */
  .print-view {
    display: block !important;
  }

  .print-view h1 {
    font-size: 18pt;
    font-weight: bold;
    margin-bottom: 8pt;
  }

  .print-view h2 {
    font-size: 14pt;
    font-weight: bold;
    margin-top: 16pt;
    margin-bottom: 6pt;
    border-bottom: 1pt solid #ccc;
    padding-bottom: 4pt;
  }

  .print-view h3 {
    font-size: 12pt;
    font-weight: bold;
    margin-top: 10pt;
    margin-bottom: 4pt;
  }

  .print-view .print-meta {
    color: #666;
    font-size: 10pt;
    margin-bottom: 4pt;
  }

  .print-view .print-badge {
    display: inline-block;
    padding: 1pt 6pt;
    border-radius: 8pt;
    font-size: 9pt;
    font-weight: 600;
    color: white;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }

  .print-view .print-section {
    margin-top: 12pt;
    page-break-inside: avoid;
  }

  .print-view .print-utterance {
    margin-bottom: 4pt;
  }

  .print-view .print-speaker {
    font-weight: bold;
    color: #333;
  }

  .print-view .print-list-item {
    margin-bottom: 6pt;
    padding-left: 12pt;
  }

  /* Ensure color printing for badges */
  * {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  /* Page breaks */
  .print-page-break {
    page-break-before: always;
  }
}
